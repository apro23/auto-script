cd
sudo apt-get update


echo "############################################################"
echo "############################################################"
echo "##################|-------------------|#####################"
echo "##################| Installing Erlang |#####################"
echo "##################|-------------------|#####################"
echo "############################################################"
echo "############################################################"
sudo apt-get install erlang -y
echo "Done."


echo "############################################################"
echo "############################################################"
echo "##################|---------------------|###################"
echo "##################| Installing rabbitMQ |###################"
echo "##################|---------------------|###################"
echo "############################################################"
echo "############################################################"
sudo apt-get install rabbitmq-server -y
sudo systemctl enable rabbitmq-server 
sudo systemctl start rabbitmq-server
echo "Done."


echo "############################################################"
echo "############################################################"
echo "##################|------------------------|################"
echo "##################| Configuring rabbitMQ |################"
echo "##################|------------------------|################"
echo "############################################################"
echo "############################################################"
sudo rabbitmq-plugins enable rabbitmq_management
sudo rabbitmqctl add_user username password
sudo rabbitmqctl set_user_tags username administrator
sudo rabbitmqctl set_permissions -p / username ".*" ".*" ".*"
echo "Done."


echo "############################################################"
echo "############################################################"
echo "################|------------------------|##################"
echo "################| Installing php modules |##################"
echo "################|------------------------|##################"
echo "############################################################"
echo "############################################################"
sudo apt install php7.0 -y
sudo apt install  php7.0-mbstring php7.0-bcmath unzip php7.0-cli -y
echo "Done."


echo "############################################################"
echo "############################################################"
echo "################|---------------------|#####################"
echo "################| Installing composer |#####################"
echo "################|------------ --------|#####################"
echo "############################################################"
echo "############################################################"
curl -sS https://getcomposer.org/installer -o composer-setup.php
sudo php composer-setup.php --install-dir=/usr/local/bin --filename=composer
unlink composer-setup.php
echo "Done."


echo "############################################################"
echo "############################################################"
echo "################|----------------------|#####################"
echo "################| configuring composer |#####################"
echo "################|----------------------|#####################"
echo "############################################################"
echo "############################################################"
echo '{"require": {"php-amqplib/php-amqplib": ">=2.9.0"}}' > composer.json
composer install
echo "Done."

clear

echo "To Check: goto to your browser and type type this:"
echo "<YOUR IP>:15672"

echo "Username: username"
echo "Password: password"
